(this["webpackJsonpgenerador-scripts-redes"]=this["webpackJsonpgenerador-scripts-redes"]||[]).push([[0],{14:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(4),o=n(2),s=n(3);function l(e,t){return i(e,t,window.sessionStorage)}function i(e,t,n){var c=Object(a.useState)((function(){var a=n.getItem(e);return null!==a?JSON.parse(a):t})),r=Object(s.a)(c,2),o=r[0],l=r[1];Object(a.useEffect)((function(){if(void 0===o)return n.removeItem(e);n.setItem(e,JSON.stringify(o))}),[e,o,n]);var i=Object(a.useCallback)((function(){l(void 0),n.removeItem(e)}),[]);return[o,l,i]}var d=n(6),u=n.n(d),j=u.a.mark(b);function b(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:return t.next=3,e.toString();case 3:e++,t.next=1;break;case 6:case"end":return t.stop()}}),j)}var p,f={hostname:"",interfaces:{},security:{bannerMord:"",encription:!1,lineConsole:!1,vty:!1}},h={description:"",interfaceCableType:{type:"fastethernet",port:""},ipAddress:"",ipMask:"",dhcp:{}},m={defaultRouter:"",dnsServer:"",excluded:[],network:"",poolName:""},O=Object(a.createContext)({routerConfig:f,dispatch:function(e){}}),v=n(0),x=function(){var e=Object(a.useContext)(O).routerConfig,t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)("Todav\xeda nada"),l=Object(s.a)(o,2),i=l[0],d=l[1],u=Object(a.useRef)(null);return Object(a.useEffect)((function(){u.current&&clearTimeout(u.current),u.current=setTimeout((function(){r(JSON.stringify(e,null,2)),d("Todavia no funciona nada")}),1e3)}),[e]),Object(v.jsxs)("p",{className:"container mt-2",children:[Object(v.jsxs)("h2",{className:"text-center",children:["Script de ",e.hostname||""]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("h3",{className:"col-5",children:"JSON generado "}),Object(v.jsx)("h3",{className:"col-7",children:"Script generado "})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("pre",{className:"col-4 text-break ",children:c}),Object(v.jsx)("pre",{className:"col-7 text-break",children:i})]})]})},g=function(e){var t=e.onChange,n=e.label,a=e.value,c=e.name;return Object(v.jsxs)("div",{className:"form-check",children:[Object(v.jsx)("input",{className:"form-check-input",type:"checkbox",checked:a,name:c,onChange:t}),Object(v.jsx)("label",{className:"form-check-label",htmlFor:c,children:n})]})};!function(e){e[e.hostname=0]="hostname",e[e.banner=1]="banner",e[e.vty=2]="vty",e[e.console=3]="console",e[e.encription=4]="encription",e[e.eraseInterface=5]="eraseInterface",e[e.update=6]="update",e[e.createNewInterface=7]="createNewInterface",e[e.deleteDhcp=8]="deleteDhcp",e[e.updateDhcp=9]="updateDhcp"}(p||(p={}));var y=function(e,t){var n;switch(t.type){case p.hostname:return Object(o.a)(Object(o.a)({},e),{},{hostname:t.payload});case p.banner:return(n=Object(o.a)({},e)).security.bannerMord=t.payload,n;case p.vty:return(n=Object(o.a)({},e)).security.vty=t.payload,n;case p.console:return(n=Object(o.a)({},e)).security.lineConsole=t.payload,n;case p.encription:return(n=Object(o.a)({},e)).security.encription=t.payload,n;case p.eraseInterface:return delete(n=Object(o.a)({},e)).interfaces[t.payload.key],n;case p.update:n=Object(o.a)({},e);var a=t.payload,c=a.key,r=a.routerInterface;return n.interfaces[c]=r,n;case p.createNewInterface:n=Object(o.a)({},e);var s=t.payload.key;return n.interfaces[s]=Object(o.a)({},h),n;case p.updateDhcp:var l,i=t.payload,d=i.dhcp_id,u=i.interface_id,j=i.dhcp_inter;return n=Object(o.a)({},e),console.log("Estoy a\xf1adiendo una"),(null===(l=n.interfaces)||void 0===l?void 0:l[u])?(n.interfaces[u].dhcp[d]=j,n):e;case p.deleteDhcp:var b=t.payload,f=b.dhcp_id,m=b.interface_id;return delete(n=Object(o.a)({},e)).interfaces[m].dhcp[f],n;default:return e}},N=function(){var e=Object(a.useContext)(O),t=e.routerConfig,n=e.dispatch,c=t.hostname,r=t.security,o=r.bannerMord,s=r.encription,l=r.lineConsole,i=r.vty;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h3",{children:"Configuraci\xf3n b\xe1sica"}),Object(v.jsxs)("div",{className:"col col-6",children:[Object(v.jsx)("label",{htmlFor:"hostname",className:"form-label",children:"Poner el hostname"}),Object(v.jsx)("input",{type:"text",className:"form-control",name:"hostname",placeholder:"Hostname del router",value:c,onChange:function(e){n({type:p.hostname,payload:e.target.value})}}),Object(v.jsx)("label",{htmlFor:"banner",className:"form-label",children:"Poner el banner"}),Object(v.jsx)("input",{type:"text",className:"form-control",name:"banner",placeholder:"banner del router",value:o,onChange:function(e){n({type:p.banner,payload:e.target.value})}})]}),Object(v.jsxs)("div",{className:"col col-6",children:[Object(v.jsx)(g,{label:"Tiene encription",name:"encription",value:s,onChange:function(){n({type:p.encription,payload:!s})}}),Object(v.jsx)(g,{label:"Tiene line console security",name:"lineconsole",value:l,onChange:function(){n({type:p.console,payload:!l})}}),Object(v.jsx)(g,{label:"Tiene vty",name:"vty",value:i,onChange:function(){n({type:p.vty,payload:!i})}})]})]})},C=function(e){var t=Object(a.useState)(e),n=Object(s.a)(t,2),c=n[0],l=n[1];return Object(o.a)(Object(o.a)({},c),{},{formulario:c,onChange:function(e,t){l(Object(o.a)(Object(o.a)({},c),{},Object(r.a)({},t,e)))},clearFormulario:function(){l((function(e){return Object.keys(e).map((function(t,n){e[t]=""})),e}))}})},k=function(e){var t=e.name,n=e.label,a=e.placeHolder,c=e.value,r=e.onChange;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("label",{htmlFor:t,className:"form-label",children:n}),Object(v.jsx)("input",{type:"text",className:"form-control",name:t,placeholder:a,value:c,onChange:function(e){r(e.target.value,t)}})]})},w=function(e){var t,n=e.id_interface,c=e.id_dhcp,r=e.dhcpInter,o=Object(a.useContext)(O).dispatch,s=C({network:r.network,defaultRouter:r.defaultRouter,dnsServer:r.dnsServer,poolName:r.poolName,excluded:r.excluded.join(",")}),l=s.defaultRouter,i=s.dnsServer,d=s.network,u=s.poolName,j=s.excluded,b=s.formulario,f=s.onChange;return Object(a.useEffect)((function(){var e=b.excluded.split(",").map((function(e){return e.trim()}));o({type:p.updateDhcp,payload:{dhcp_id:c,interface_id:n,dhcp_inter:{network:d,defaultRouter:l,dnsServer:i,poolName:u,excluded:e}}})}),[l,o,i,j,d,u,c,n]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("h5",{children:["DHCP Configuration ",null!==(t="DHCP::".concat(u))&&void 0!==t?t:""]}),Object(v.jsxs)("div",{className:"dhcp-config-form",children:[Object(v.jsx)(k,{label:"Pon el nombre del pool name",onChange:f,value:u,placeHolder:"Pon el poolName",name:"poolName"}),Object(v.jsx)(k,{label:"Pon el default router",onChange:f,value:l,placeHolder:"Pon el defaultRouter",name:"defaultRouter"}),Object(v.jsx)(k,{label:"Pon la ip del dnsServer",onChange:f,value:i,placeHolder:"Pon el dnsServer",name:"dnsServer"}),Object(v.jsx)(k,{label:"Pon la ip del network",onChange:f,value:d,placeHolder:"Pon el network",name:"network"}),Object(v.jsx)(k,{label:"Pon las ip excluidas, separadas por commas",onChange:f,value:j,placeHolder:"Pon el excluded",name:"excluded"})]})]})},S=b(),P=function(e){var t=e.id,n=e.routerInter,c=n.description,r=n.interfaceCableType,l=n.ipMask,i=n.ipAddress,d=n.dhcp,u=Object(a.useContext)(O).dispatch,j=Object(a.useState)(r.type),b=Object(s.a)(j,2),f=b[0],h=b[1],x=C({ipMas:l,ipAdd:i,port:r.port,descriptionForm:c}),y=x.onChange,N=x.ipAdd,P=x.ipMas,I=x.descriptionForm,_=x.port,F=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(a.useState)(e),n=Object(s.a)(t,2),c=n[0],r=n[1];return[c,function(){r(!c)}]}("serial"===r.type&&r.isFemale),D=Object(s.a)(F,2),R=D[0],A=D[1];return Object(a.useEffect)((function(){var e="serial"===f?{type:"serial",isFemale:R,port:_}:{type:f,port:_};u({type:p.update,payload:{key:t,routerInterface:Object(o.a)(Object(o.a)({},n),{},{description:I,interfaceCableType:e,ipAddress:N,ipMask:P})}})}),[R,I,u,t,N,P,_,f]),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsxs)("h4",{className:"text-center",children:["Configuraci\xf3n para ",I]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("strong",{children:"Select Type of cable"}),Object(v.jsxs)("select",{className:"form-select","aria-label":"Default select example",value:f,onChange:function(e){return h(e.target.value)},children:[Object(v.jsx)("option",{value:"fastethernet",children:"Fast Ethernet"}),Object(v.jsx)("option",{value:"serial",children:"Serial "}),Object(v.jsx)("option",{value:"gigabitethernet",children:"Gigabit"})]}),"serial"===f&&Object(v.jsx)(g,{label:"Es hembra?",value:R,name:"es-hembra",onChange:function(){A()}})]}),Object(v.jsx)("div",{className:"col-6",children:Object(v.jsx)(k,{label:"Pon el port number",name:"port",onChange:y,placeHolder:"Port number",value:_})}),Object(v.jsx)("div",{children:Object(v.jsx)(k,{label:"Pon el description",name:"descriptionForm",onChange:y,placeHolder:"description",value:I})})]}),Object(v.jsx)("strong",{children:"Ip address"})," ",Object(v.jsx)("br",{}),Object(v.jsx)("small",{children:"Pones la direccion normal y luego pones diagonal algo"}),Object(v.jsxs)("div",{className:"input-group",children:[Object(v.jsx)("div",{className:"col-9",children:Object(v.jsx)("input",{type:"text",className:"form-control col-9",name:"ipAddress",placeholder:"ipAddress del router",value:N,onChange:function(e){y(e.target.value,"ipAdd")}})}),Object(v.jsx)("span",{className:"input-group-text",children:"/"}),Object(v.jsx)("input",{type:"text",className:"form-control",name:"ipMask",placeholder:"ex. 24",value:P,onChange:function(e){y(e.target.value,"ipMas")}})]}),Object(v.jsxs)("div",{className:"dhcp-config-container mt-4",children:[Object.keys(d).map((function(e){var n=d[e];return Object(v.jsxs)("div",{children:[Object(v.jsx)(w,{id_dhcp:e,id_interface:t,dhcpInter:n}),Object(v.jsx)("button",{className:"btn btn-danger col-4 offset-8 mt-2",onClick:function(){u({type:p.deleteDhcp,payload:{dhcp_id:e,interface_id:t}})},children:"Delete dhcp"})]},e)})),Object(v.jsx)("button",{className:"btn btn-success",onClick:function(){var e,n;u({type:p.updateDhcp,payload:{dhcp_id:null!==(e=null===S||void 0===S||null===(n=S.next())||void 0===n?void 0:n.value)&&void 0!==e?e:"1",interface_id:t,dhcp_inter:m}})},children:"Add new dhcp"})]})]})},I=b(),_=function(){var e=Object(a.useContext)(O),t=e.routerConfig,n=e.dispatch,c=Object(a.useRef)(null);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h3",{children:"Configuraci\xf3n de las interfaces"}),Object(v.jsx)("div",{className:"interfaces",ref:c,children:Object.keys(t.interfaces).map((function(e){var a=t.interfaces[e];return Object(v.jsx)("div",{className:"interface row",children:Object(v.jsxs)("div",{className:"my-1",children:[Object(v.jsx)(P,{id:e,routerInter:a}),Object(v.jsxs)("button",{className:"btn btn-danger col-4 offset-8",onClick:function(){n({type:p.eraseInterface,payload:{key:e}})},children:["Eliminar ",a.description||"Interface"]})]})},e)}))}),Object(v.jsx)("button",{className:"btn btn-success col-6 offset-3 mt-2",onClick:function(){var e,t,a=null!==(e=null===I||void 0===I||null===(t=I.next())||void 0===t?void 0:t.value)&&void 0!==e?e:"1";n({type:p.createNewInterface,payload:{key:a}})},children:"Add interface"})]})},F=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("div",{className:"row",children:Object(v.jsx)(N,{})}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)(_,{})})]})})},D=function(e){var t=e.routerConfigParameters,n=(e.updateRouter,e.id),c=l("router_".concat(n),t),r=Object(s.a)(c,3),o=r[0],i=r[1],d=r[2],u=Object(a.useReducer)(y,o||f),j=Object(s.a)(u,2),b=j[0],p=j[1];return Object(a.useEffect)((function(){i(b)}),[b,i]),Object(a.useEffect)((function(){return function(){d()}}),[]),Object(v.jsx)(O.Provider,{value:{routerConfig:b,dispatch:p},children:Object(v.jsxs)("div",{className:"container mb-5 px-5",children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"\xbfComo usarlo?"})," ",Object(v.jsx)("br",{})," Puedes usar la configuracion llenando la informacion necesaria en las siguientes partes"]}),Object(v.jsxs)("h2",{className:"text-center",children:["Configuracion de ","Router::".concat(b.hostname)||!1]}),Object(v.jsx)(F,{}),Object(v.jsx)(x,{})]})})},R=b(),A=function(){var e=l("routerConfig",{}),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(null!==n&&void 0!==n?n:{}),d=Object(s.a)(i,2),u=d[0],j=d[1],b=function(e,t){j((function(n){var a=Object(o.a)({},n);return a[e]=t,a}))};return Object(a.useEffect)((function(){c(u),console.log("Algo se esta cambiando")}),[u,c]),Object(v.jsxs)("div",{className:"container",children:[Object.entries(u).map((function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];return console.log("Deber\xeda anadir un router aqui"),Object(v.jsxs)("div",{className:"container my-3",children:[Object(v.jsx)(D,{routerConfigParameters:a,id:n,updateRouter:b}),Object(v.jsxs)("button",{className:"btn btn-danger col-4 offset-4",onClick:function(){j((function(e){var t=Object(o.a)({},e);return delete t[n],t}))},children:["Delete ",a.hostname||"Router"]})]},n)})),Object(v.jsx)("button",{className:"btn btn-success col-10 offset-1 mb-5",onClick:function(){var e="";do{var t,n;e=null!==(t=null===(n=R.next())||void 0===n?void 0:n.value)&&void 0!==t?t:"1"}while(u[e]);j(Object(o.a)(Object(o.a)({},u),{},Object(r.a)({},e,f)))},children:"Add Router"})]})};var E=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(A,{})})},H=n(7);n.n(H).a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(E,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.53e6430a.chunk.js.map